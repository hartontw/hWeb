<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Daniel Harton | {{ title }} </title>
    {{> styles }}
    <style>
        body{
            background: #555;
        }

        .container{
            padding: 25px;
            margin-bottom: 25px;
        }

        .form-sec {
            width: 100%;
            background: #f8f9fa;
            padding: 15px;
            box-shadow: 0 0 4px #ccc;
        }

        #submit{
             width: 100%;
        }
    </style>
</head>

<body>

    {{> navbar }}

    <div class="container">
        <div class="form-sec">
            <h4>{{ title }}</h4>
            <form name="companyForm" id="companyForm" method="post" action="{{action}}">
                <div class="form-group">
                    <label>Name:</label>
                    <input type="text" class="form-control" id="name" placeholder="Company Name" name="name" value="{{company.name}}">
                </div>
                <div class="form-group">
                    <label>Logo:</label>
                    <input type="text" class="form-control" id="logo" placeholder="Company Name" name="logo" value="{{company.logo.url}}">
                </div>
                <div class="form-group">
                    <label>Website:</label>
                    <input type="text" class="form-control" id="website" placeholder="Company Website" name="website" value="{{company.website}}">
                </div>
            </form>
            <br />
            <button type="submit" class="btn btn-primary" id="submit">Submit</button>
        </div>
    </div>

    {{> scripts }}
    <script>
        function isBlank(str) {
            return (!str || /^\s*$/.test(str));
        }

        function validate() {
            const name = $('#name').val();
            if (isBlank(name))
                return 'Company name is required';         
        }

        $("#submit").click(function (event) {            
            event.preventDefault();
            const err = validate();
            if (!err)
                $('#companyForm').submit();
            else 
                alert(err);
        });
    </script>

    {{> footer }}

</body>

</html>